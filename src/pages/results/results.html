<ion-header>
  <ion-navbar  color="teal">
    <ion-title>Results</ion-title>
    <ion-fab top right>
        <button ion-button icon-only clear (click)="closeModal()">
            <ion-icon name="close"></ion-icon>
        </button>
    </ion-fab>
  </ion-navbar>


</ion-header>


<ion-content padding>
  <h1> {{results.Category}} : Overview</h1>
  <ion-item>
    <ion-badge item-start> {{results.score}} / {{results.TotalPossibleScore}} </ion-badge>
    <ion-label > Overall Score</ion-label>
  </ion-item>
  <ion-item>
    <ion-badge item-start> {{results.time}} </ion-badge>
    <ion-label > Total Duration </ion-label>
  </ion-item>
  <ion-item>
    <ion-badge *ngIf="results.Percentage >= 50" color ="darkGreen"item-start> {{results.Percentage}} % </ion-badge>
    <ion-badge *ngIf="results.Percentage < 50" color="red" item-start> {{results.Percentage}} % </ion-badge>
    <ion-label > % Score </ion-label>
  </ion-item>


  <p> <em> {{results.Comment}} </em></p>
  <ion-card class="cards" *ngFor="let data of results.results; let i = index">
      <ion-card-header  text-wrap> <strong> Level {{i+1}} </strong> 
        <ion-badge  style="margin-left:80%;"*ngIf="data.ScoreEarned != data.MaxScore"> {{data.ScoreEarned}}/{{data.MaxScore}} </ion-badge>
        <ion-badge style="margin-left:80%;" *ngIf="data.ScoreEarned == data.MaxScore" color="darkGreen"> {{data.ScoreEarned}}/{{data.MaxScore}} </ion-badge>
      </ion-card-header>
        <ion-card-content > 
                <ion-list>
                  <ion-item *ngFor="let question of data.Questions" style="border-radius: 5px; margin: 2px;">
                    <ion-item text-wrap>
                        <span><strong> Question {{question.number}}  </strong><div [innerHTML]="question.content" > </div> </span> 
                    </ion-item>
                    <ion-item>
                        <div *ngIf="question.correct == true" class="correct" text-wrap> Your Answer: {{question.ansGiven}} <ion-icon class="correct-tick" name="checkmark"></ion-icon> </div>
                        <div *ngIf="question.correct == false" class="inCorrect" text-wrap> Your Answer: {{question.ansGiven}} <ion-icon class="incorrect-tick" name="close"></ion-icon> </div>
                        <div *ngIf="question.correct == false" class="yellow" text-wrap> Correct Answer: {{question.correctAns}}</div>
                    </ion-item>           
                  </ion-item>
                </ion-list>
      </ion-card-content>
    </ion-card>
</ion-content>
